<div class="card">
  <div class="profile-img-style">
    <div class="row">
      <div class="col-sm-8">
        <div class="media">
          <img class="img-thumbnail rounded-circle mr-3" src="https://api.adorable.io/avatars/285/ola-mundo.png"
            alt="Avatar">
          <div class="media-body align-self-center">
            <a class="mt-0 user-name" [routerLink]="['/usuario/', tweet.usuario.id]">{{tweet.usuario.nome}}</a>
          </div>
        </div>
      </div>

      <div class="col-sm-4 align-self-center">
        <div class="float-sm-right">
          <small>{{tweet.data | date: 'dd/MM/yyyy HH:mm'}}</small>
        </div>
      </div>
      <a [routerLink]="['/tweet', tweet.id]" class="tweet-id" title="Ir à pagina do tweet">#{{tweet.id}}</a>
    </div>
    <hr>

    <p>{{tweet.conteudo}}</p>

    <hr>

    <div>
      <a *ngIf="!this.inputComentarAtivo" [routerLink]="['/tweet/', tweet.id]"><i class="fa fa-comment mr-2"></i>Comentar</a>

      <div class="float-sm-right" *ngIf="this.usuarioAtual && this.usuarioAtual.id === this.tweet.usuario.id">
        <button [disabled]="this.excluindoTweet" (click)="this.onExcluirTweet()" class="btn p-0 txt-primary" title="Excluir tweet">
          <i class="fa fa-{{this.confirmaExcluirTweet ? 'exclamation-triangle' : 'trash'}}" aria-hidden="true"></i>
          {{this.confirmaExcluirTweet ? 'Confirmar exclusão' : ''}}
          {{this.excluindoTweet ? 'Excluindo...' : ''}}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- TODO: Por agora, o input de comentar só é o mostrado na página de tweet. -->
<!-- TODO: mover para tweet-detalhe? -->
<div class="card" *ngIf="this.inputComentarAtivo">
  <div class="col-md-12 p-30">
    <!-- TODO: só mostrar caso o usuário esteja autenticado. -->
    <form #form="ngForm" (ngSubmit)="this.onAdicionarComentario(form)">
      <textarea class="form-control" name="conteudo" placeholder="Escreva seu comentário" rows="4" ngModel>

      </textarea>

      <div class="mt-3 float-right">
        <button type="submit" class="btn btn-primary" [disabled]="this.publicandoComentario">
          {{this.publicandoComentario ? 'Publicando...' : 'Comentar'}}
        </button>
      </div>
    </form>
  </div>
</div>